/* =========================================================
   GuiltFreeVend – Clean CSS (21.08 mobile header fix)
   ========================================================= */

/* -------------------- Root & Reset -------------------- */
:root{
  --pad: 2rem;
  --header-h: 56px;

  /* Brand */
  --brand: #5A7D2A;
  --brand-700: #4E6A22;
  --ink: #33491E;

  /* Mobile menu */
  --menu-top: calc(env(safe-area-inset-top, 0px) + 6px);
  --gap: 10px;
  --ease-out: cubic-bezier(.16,1,.29,.99);
  --ease-in:  cubic-bezier(.4,0,.2,1);

  /* Hamburger bars */
  --btn-size: 46px;
  --btn-radius: 12px;
  --btn-offset: 10px;
  --bar-w: 24px;
  --bar-h: 3px;
  --bar-gap: 7px;
}

html, body { margin: 0; }
*{ margin:0; padding:0; box-sizing:border-box; }
html{ scroll-behavior:smooth; }

body{
  font-family:'Segoe UI', sans-serif;
  background-color:#fdf6d9;
  color:var(--ink);
}

/* Utility */
.sr-only{
  position:absolute !important; width:1px; height:1px;
  padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0);
  white-space:nowrap; border:0;
}

/* =========================================================
   Header & Navigation (desktop/landscape)
   ========================================================= */
#site-header{
  position:sticky; top:0; z-index:1000;
  display:flex; align-items:center; gap:16px;
  padding:10px 18px;
  background:transparent;                 /* прозрачен на върха */
  transition: background .2s ease, box-shadow .2s ease;
}
#site-header::before{ content:""; position:absolute; inset:0; pointer-events:none; background:transparent; }
#site-header.is-scrolled{
  box-shadow:0 6px 24px rgba(0,0,0,.06);
}
#site-header.is-scrolled::before{
  background:linear-gradient(to bottom,
    rgba(253,246,217,0.95) 0%,
    rgba(253,246,217,0.90) 60%,
    rgba(253,246,217,0.86) 100%);
}

/* Desktop menu */
.desktop-menu{ display:flex; align-items:center; gap:1.1rem; margin-left:auto; }
.desktop-menu a{
  display:inline-block; color:var(--ink); text-decoration:none;
  padding:.35rem .25rem; font-weight:500;
  border-bottom:2px solid transparent;
  transition: color .2s ease, border-color .2s ease;
}
.desktop-menu a:hover,
.desktop-menu a:focus,
.desktop-menu a.is-active{ color:var(--brand); border-bottom-color:var(--brand); }

@media (min-width: 992px){
  #site-header .header-inner{ display:flex; align-items:center; gap:16px; }
  .desktop-menu > ul,
  .desktop-menu{ display:flex; align-items:center; gap:clamp(12px,1.6vw,24px); }
  .desktop-menu li{ position:relative; }
  .desktop-menu li > ul{
    position:absolute; top:calc(100% + 10px); right:0; left:auto;
    min-width:200px; text-align:left; z-index:1100;
  }
}

/* Header CTA */
.cta--header{
  display:inline-flex; align-items:center; gap:.5rem;
  padding:.9rem 1.8rem; background:var(--brand);
  color:#fff !important; border-radius:.55rem;
  box-shadow:0 3px 10px rgba(90,125,42,.25);
  font-weight:700; text-decoration:none;
  transition: transform .2s ease, background .2s ease;
}
.cta--header:hover{ background:var(--brand-700); transform:translateY(-1px); }

/* Hide desktop menu on tablets/phones */
@media (max-width:1024px){ .desktop-menu{ display:none; } }

/* =========================================================
   Mobile Menu: Shell + Hamburger + Panel
   ========================================================= */
.menu-shell{
  position:fixed; top:var(--menu-top); right:var(--gap);
  width:var(--btn-size); height:var(--btn-size);
  border-radius:var(--btn-radius);
  background:transparent; box-shadow:none;
  overflow:hidden; z-index:7000;
  transition: width 520ms var(--ease-out),
             height 520ms var(--ease-out),
             border-radius 420ms var(--ease-out),
             box-shadow 300ms var(--ease-out),
             background-color 300ms var(--ease-out);
}
.menu-shell[aria-expanded="true"]{
  width:300px; height:calc(100dvh - 16px);
  border-radius:16px; background:#fdf6d9;
  box-shadow:-10px 12px 28px rgba(0,0,0,.18), -2px 0 8px rgba(0,0,0,.10);
}

/* Icon button */
.menu-shell .hamburger{
  position:absolute; top:var(--btn-offset); right:var(--btn-offset);
  width:var(--btn-size); height:var(--btn-size);
  border:0; background:transparent; box-shadow:none;
  cursor:pointer; z-index:2; display:grid; place-items:center;
  -webkit-tap-highlight-color:transparent;
}
.menu-shell .hamburger .bar{
  position:absolute; top:50%; left:50%;
  width:var(--bar-w); height:var(--bar-h);
  border-radius:9999px; background-color:#356a2a;
  transform-origin:center;
  transition:transform 420ms var(--ease-out), opacity 260ms var(--ease-out), background-color 240ms var(--ease-out);
}
.menu-shell .hamburger .bar:nth-child(1){ transform:translate(-50%, calc(-50% - var(--bar-gap))); }
.menu-shell .hamburger .bar:nth-child(2){ transform:translate(-50%, -50%); }
.menu-shell .hamburger .bar:nth-child(3){ transform:translate(-50%, calc(-50% + var(--bar-gap))); }
.menu-shell .hamburger[aria-expanded="true"] .bar{ background-color:var(--ink); }
.menu-shell .hamburger[aria-expanded="true"] .bar:nth-child(1){ transform:translate(-50%, -50%) rotate(45deg); }
.menu-shell .hamburger[aria-expanded="true"] .bar:nth-child(2){ opacity:0; }
.menu-shell .hamburger[aria-expanded="true"] .bar:nth-child(3){ transform:translate(-50%, -50%) rotate(-45deg); }

/* Panel */
.menu-shell > .side-menu{
  position:absolute; inset:0; z-index:1;
  padding:22px 18px 24px; background:#fdf6d9; border-radius:16px;
  overflow:auto; opacity:0; transform:translateY(6px);
  transition:opacity 260ms 160ms var(--ease-out), transform 260ms 160ms var(--ease-out);
  pointer-events:none;
}
.menu-shell[aria-expanded="true"] > .side-menu{ opacity:1; transform:translateY(0); pointer-events:auto; }
.side-menu .menu-head{ display:flex; align-items:center; justify-content:space-between;
  padding-bottom:8px; border-bottom:1px solid rgba(0,0,0,.06); }
.side-menu .menu-title{ font-weight:700; color:var(--ink); font-size:1.15rem; }
.side-menu .menu-list{ list-style:none; display:flex; flex-direction:column; gap:14px; margin:6px 0; padding:0; }
.side-menu .menu-list a{ display:inline-block; text-decoration:none; color:var(--ink);
  font-size:1rem; line-height:1.3; padding:6px 2px; transition:color .18s var(--ease-in), transform .18s var(--ease-in); }
.side-menu .menu-list a:hover{ color:#6DAA24; transform:translateX(-2px); }
.side-menu .cta-button{ margin-top:auto; display:inline-block; text-align:center;
  padding:12px 14px; background:var(--brand); color:#fff; border-radius:10px;
  font-weight:700; text-decoration:none; transition:background .2s var(--ease-in), transform .2s var(--ease-in); }
.side-menu .cta-button:hover{ background:var(--brand-700); transform:translateY(-1px); }

/* Overlay */
.overlay{
  position:fixed; inset:0; background:rgba(0,0,0,.38); backdrop-filter:blur(2px);
  opacity:0; visibility:hidden; pointer-events:none;
  transition:opacity .32s var(--ease-in), visibility .32s var(--ease-in);
  z-index:4500;
}
.overlay.active{ opacity:1; visibility:visible; pointer-events:auto; }

/* =========================================================
   Hero – фон винаги присъства
   ========================================================= */
.hero{
  position:relative;
  display:grid; place-items:center; text-align:center;
  padding: clamp(48px, 6vh, 96px) 20px;
  min-height: calc(100svh - var(--header-h, 64px));
  background-color:#fdf6d9;  /* fallback */
  overflow:hidden;

  /* desktop/landscape фон по подразбиране */
  background-image: image-set(
    url("machinehero1.webp") type("image/webp"),
    url("machinehero2.jpg")  type("image/jpeg")
  );
  background-size: cover;
  background-position: center center;
  background-repeat: no-repeat;
}
.hero > *{ position:relative; z-index:1; }

/* Portrait (<=1:1) — мобилен фон, без никаква „лента“ */
@media (max-aspect-ratio: 1/1){
  /* скриваме напълно header-а и нулираме отстоянията */
  #site-header{ display:none !important; }
  body{ padding-top:0 !important; }

  .hero{
    min-height: 100svh;
    background-image: image-set(
      url("machineheromobile.webp") type("image/webp"),
      url("machineheromobile.jpg")  type("image/jpeg")
    );
    background-size: cover;
    background-position: center 24%;
    background-repeat:no-repeat;
  }
  .hero::before{ content:none !important; }   /* без overlay */
}

/* =========================================================
   Hero – CTA-та
   ========================================================= */
.hero .hero-btn{ text-decoration:none; color:#fff; font-weight:800; letter-spacing:.2px; }
.hero .cta-pill{
  display:inline-flex; align-items:center; gap:10px;
  padding:14px 22px; border-radius:999px;

  /* ЕДИН цвят – тъмно зелено (без градиент) */
  background: var(--brand-700) !important;
  color:#fff; border:1px solid rgba(255,255,255,.22);
  box-shadow:0 10px 28px rgba(42,68,22,.35);
  transition:transform .18s ease, background-color .18s ease, box-shadow .18s ease;
}
.hero .cta-pill .cta-icon{ display:none !important; } /* без стрелка */
.hero .cta-pill:hover{ background:var(--brand); transform:translateY(-1px) scale(1.02); box-shadow:0 14px 34px rgba(42,68,22,.35); }
.hero .cta-pill:active{ background:#445d20; box-shadow:0 8px 20px rgba(42,68,22,.28); }

.hero .cta-ghost{
  display:inline-flex; align-items:center; padding:10px 14px; border-radius:999px;
  color:#fff; text-decoration:none; background:transparent;
  border:1.5px solid rgba(255,255,255,.88); box-shadow:0 4px 14px rgba(0,0,0,.10);
  -webkit-backdrop-filter: blur(1px) saturate(120%); backdrop-filter: blur(1px) saturate(120%);
  font-weight:700; transition:transform .18s ease, background-color .18s ease, border-color .18s ease;
}
.hero .cta-ghost:hover{ transform:translateY(-1px); background:rgba(255,255,255,.08); border-color:rgba(255,255,255,.95); }

/* Контейнерът за бутоните – центриран долу в мобилен/portrait */
.hero-cta-wrap{ display:flex; flex-direction:column; align-items:center; gap:10px; }
@media (max-aspect-ratio: 1/1){
  .hero-cta-wrap{
    position:absolute; left:50%; transform:translateX(-50%);
    bottom: clamp(18px, 7vh, 80px);
    width:max-content;
  }
}

/* =========================================================
   Sections / Benefits / Intro / Partners / Forms / Founders / FAQ / Suitability / Footer / Back-to-top
   (без функционални промени; оставени от оригиналния ти файл)
   ========================================================= */
.section{ padding:4rem 2rem; text-align:center; }

/* Benefits */
.benefits-grid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(220px, 1fr)); gap:2rem; margin-top:2rem; }
.benefit-item{ background:#fffbe9; border-radius:.5rem; padding:1.5rem; text-align:center; box-shadow:0 2px 10px rgba(0,0,0,0.05); transition: transform .3s ease, box-shadow .3s ease; }
.benefit-item:hover{ transform:translateY(-5px); box-shadow:0 4px 15px rgba(0,0,0,0.1); }
.benefit-item img{ width:64px; height:64px; margin-bottom:1rem; }
.benefit-item h3{ margin-bottom:.5rem; color:var(--brand); }
.benefit-item p{ font-size:1rem; color:#555; line-height:1.5; }

/* Intro */
@media (min-width:769px){
  #intro.section{ display:flex; flex-direction:column; align-items:center; padding:5rem 2rem; background-color:#fdf6d9; }
  #intro h2{ font-size:2rem; margin-bottom:2rem; color:var(--ink); }
  #intro .intro-content{ max-width:960px; display:flex; flex-direction:column; align-items:center; }
  #intro .intro-text{ text-align:center; font-size:1.125rem; line-height:1.8; max-width:720px; color:#2a3f15; }
  #intro .intro-text p{ margin-bottom:1.5rem; }
}
#intro .intro-image{ flex:1 1 300px; }
#intro .intro-image img{ max-width:100%; border-radius:.5rem; box-shadow:0 4px 12px rgba(0,0,0,0.1); }
@media (max-width:768px){ #intro .intro-text{ text-align:center; } }

/* Partners – marquee */
#partners .marquee{
  --fadeW: clamp(28px, 9vw, 120px);
  position:relative; overflow:hidden;
  -webkit-mask-image:linear-gradient(to right, transparent 0,
    rgba(0,0,0,.15) calc(var(--fadeW)*.35),
    #000 calc(var(--fadeW)*1.1),
    #000 calc(100% - var(--fadeW)*1.1),
    rgba(0,0,0,.15) calc(100% - var(--fadeW)*.35),
    transparent 100%);
          mask-image:linear-gradient(to right, transparent 0,
    rgba(0,0,0,.15) calc(var(--fadeW)*.35),
    #000 calc(var(--fadeW)*1.1),
    #000 calc(100% - var(--fadeW)*1.1),
    rgba(0,0,0,.15) calc(100% - var(--fadeW)*.35),
    transparent 100%);
}
#partners .marquee__inner{ display:inline-flex; align-items:center;
  gap:clamp(28px,4vw,56px); animation:partners-slow 38s linear infinite; will-change:transform; }
#partners .marquee__inner a{ flex:0 0 auto; display:inline-flex; align-items:center; justify-content:center;
  height:clamp(56px, 7.2vw, 88px); width: clamp(140px, 22vw, 220px); padding:6px 10px; }
#partners .marquee__inner img{ max-height:100%; max-width:100%; object-fit:contain; transition:transform .2s ease; }
@media (hover:hover){ #partners .marquee__inner a:hover img{ transform:scale(1.04); } }

@keyframes partners-slow{ from{ transform:translateX(0); } to{ transform:translateX(-50%); } }

/* Forms */
.form-title{ font-size:1.8rem; color:var(--ink); margin-bottom:1.5rem; font-weight:700; }
form{ max-width:600px; margin:0 auto; display:flex; flex-wrap:wrap; gap:1rem; }
form input, form textarea{ flex:1 1 45%; padding:.75rem; border:1px solid #ccc; border-radius:.25rem; font-size:1rem; }
form textarea{ flex:1 1 100%; height:8rem; }
form .consent-group{ display:grid; grid-template-columns:1.25em 1fr; column-gap:.6rem; align-items:start; margin-top:1rem; text-align:left; max-width:100%; line-height:1.5; }
form .consent-group input[type="checkbox"]{ flex:0 0 auto !important; width:1.25em; height:1.25em; margin:.2em 0 0; border-radius:.3rem; accent-color:var(--brand); }
form .consent-group label{ margin:0; font-size:1rem; line-height:1.55; color:var(--ink); }
form .consent-group a{ color:var(--brand); text-decoration:underline; text-underline-offset:.18em; text-decoration-thickness:.08em; }
.consent-group .required{ color:#b00; margin-left:.2rem; }
.submit-btn{ flex:1 1 100%; padding:.75rem; border:none; border-radius:.25rem; background:var(--brand); color:#fff; font-size:1.1rem; font-weight:600; cursor:pointer; transition:background .3s; }
.submit-btn:hover{ background:#2a3f15; }

/* Founders */
.founder-wrapper{ display:flex; flex-wrap:wrap; justify-content:center; gap:2rem; max-width:900px; margin:2rem auto 0; text-align:center; }
.founder-card{ flex:1 1 300px; padding:1rem; background-color:#f7f3e6;
  border-radius:.75rem; box-shadow:0 4px 12px rgba(0,0,0,.06); }
.founder-img{ width:120px; height:120px; object-fit:cover; border-radius:50%;
  margin-bottom:1rem; border:3px solid var(--brand); }
.founder-card h3{ margin-bottom:.5rem; color:var(--brand-700); }
.founder-card p{ font-size:.95rem; color:var(--ink); }

/* FAQ */
.faq-container details{ max-width:800px; margin:1rem auto; border:1px solid #ccc; border-radius:.5rem; background:#fff8e3; padding:1rem; transition:all .3s ease; }
.faq-container summary{ font-weight:600; font-size:1.1rem; cursor:pointer; color:var(--ink); list-style:none; }
.faq-container details[open]{ background:#fdf6d9; box-shadow:0 2px 6px rgba(0,0,0,.05); }
.faq-container p{ margin-top:.5rem; line-height:1.6; color:#444; }

/* Suitability */
.suitability{ --card-bg:#fffbe9; --card-b:1px solid rgba(51,73,30,.10); --shadow:0 6px 14px rgba(0,0,0,.06); --shadow-h:0 12px 24px rgba(0,0,0,.10); text-align:center; }
.suit-title{ font-size:clamp(1.6rem, 1.2rem + 2.2vw, 2.4rem); line-height:1.2; color:var(--ink); margin-bottom:.75rem; }
.suit-lead{ max-width:840px; margin:0 auto 1.2rem; font-size:clamp(1rem, .9rem + .4vw, 1.15rem); line-height:1.7; color:#2a3f15; opacity:.92; }
.suitability-grid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(230px,1fr)); gap:clamp(14px,2.2vw,22px); margin:1.2rem auto 0; max-width:1100px; }
.suit-item{ background:var(--card-bg); border:var(--card-b); border-radius:16px; padding:18px 18px 16px; text-align:left; box-shadow:var(--shadow);
  transition:transform .25s var(--ease-out), box-shadow .25s var(--ease-out); }
.suit-item:hover{ transform:translateY(-4px); box-shadow:var(--shadow-h); }
.suit-icon{ width:46px; height:46px; border-radius:50%; display:grid; place-items:center; font-size:24px; line-height:1;
  background:radial-gradient(70% 70% at 30% 30%, #fff 0, #f7f1d9 100%);
  border:1px solid rgba(51,73,30,.12); box-shadow:0 4px 10px rgba(90,125,42,.12), inset 0 -2px 5px rgba(0,0,0,.02); margin-bottom:10px; }
.suit-item h3{ color:var(--brand-700); font-size:1.06rem; margin-bottom:.35rem; }
.suit-item p{ color:#2a3f15; opacity:.95; font-size:.98rem; line-height:1.55; }
.suit-footnote{ margin:1.2rem auto 0; font-size:.95rem; color:#2a3f15; opacity:.8; }
@media (min-width:1024px){ .suitability{ padding-top:3.2rem; padding-bottom:3.2rem; } .suitability-grid{ gap:20px; } }

/* Footer */
.custom-footer{ background-color:#f4f0de; padding:2rem 1rem; text-align:center; }
.footer-container{ max-width:800px; margin:0 auto; }
.footer-follow{ font-size:1rem; font-weight:600; color:var(--ink); margin-bottom:1rem; }
.footer-text{ font-size:.95rem; color:var(--ink); }
.footer-icons{ display:flex; justify-content:center; align-items:center; gap:16px; margin-bottom:1.5rem; flex-wrap:wrap; }
.footer-icons a{ display:inline-flex; justify-content:center; align-items:center; width:46px; height:46px; text-decoration:none; }
@media (max-width:768px){ .footer-icons a{ width:40px; height:40px; } }
.footer-icons a img{ width:74%; height:74%; object-fit:contain; display:block;
  filter: invert(33%) sepia(13%) saturate(1090%) hue-rotate(55deg) brightness(90%) contrast(92%);
  transform:scale(var(--bal,1)); transition: transform .2s ease, filter .2s ease; }
.footer-icons img[alt="Instagram"]{ --bal:1.10; }
.footer-icons img[alt="Facebook"] { --bal:1.08; }
.footer-icons img[alt="LinkedIn"] { --bal:1.30; }
.footer-icons img[alt="Email"]    { --bal:1.32; }
.footer-icons a:hover img{ transform:translateY(-1px) scale(calc(var(--bal,1)*1.06));
  filter: invert(36%) sepia(26%) saturate(900%) hue-rotate(45deg) brightness(88%) contrast(95%); }

/* Back-to-top */
#scrollTopBtn{
  position:fixed; bottom:2rem; right:2rem; display:none;
  background-color:var(--brand); color:#fff; border:none; border-radius:50%;
  font-size:1.5rem; width:48px; height:48px; cursor:pointer;
  box-shadow:0 4px 12px rgba(0,0,0,0.15);
  transition:background-color .3s ease, transform .3s ease; z-index:999;
}
#scrollTopBtn:hover{ background-color:var(--brand-700); transform:scale(1.05); }
@media (max-width:768px){ #scrollTopBtn{ width:40px; height:40px; font-size:1.3rem; bottom:1.5rem; right:1.5rem; } }

